(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/addressList"],{"0b81":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var r={uniSegmentedControl:function(){return n.e("components/uni-segmented-control/uni-segmented-control").then(n.bind(null,"3fbe"))}},s=function(){var e=this,t=e.$createElement;e._self._c},i=[]},"461d":function(e,t,n){"use strict";n.r(t);var r=n("ee80"),s=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=s.a},"46e6":function(e,t,n){"use strict";var r=n("e014"),s=n.n(r);s.a},"6eab":function(e,t,n){"use strict";(function(e){n("03cd");r(n("66fd"));var t=r(n("f60f"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},e014:function(e,t,n){},ee80:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("7a58")),s=n("2f62");function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){n.e("components/uni-segmented-control/uni-segmented-control").then(function(){return resolve(n("3fbe"))}.bind(null,n)).catch(n.oe)},u={components:{uniSegmentedControl:c},data:function(){return{AddressList:[],items:["寄件地址","收件地址"],tabindex:0,btnText:"寄件",type:"",curr:""}},computed:a({},(0,s.mapState)(["hasLogin","userInfo"])),methods:{onClickItem:function(e){var t=this;if(this.tabindex!==e.currentIndex){this.tabindex=e.currentIndex,console.log("tabindex",this.tabindex);var n=1===t.tabindex?1:2;t.btnText=0===this.tabindex?"寄件":"收件",t.Get("/api/User/GetCommonlyUsedContactPageList?Type="+n+"&PageSize=50",{},t.userInfo.accessToken,(function(e){e.Status&&e.Data&&e.Data.rows.length>0?t.AddressList=e.Data.rows:t.AddressList=[]}))}},Delete:function(t){var n=this;e.showModal({title:"提示",content:"确认删除当前信息？",cancelColor:"#FF3333",success:function(e){if(e.confirm){var r={id:t};n.POST("/api/User/DeleteCommonlyUsedContact",r,n.userInfo.accessToken,(function(e){e.Status&&(n.loadData(),n.showMsg("删除成功！"))}),"biz","application/x-www-form-urlencoded")}}})},Edit:function(t){var n=this,s=1===n.tabindex?1:2;if(r.default.IsInt(t)&&Number(t)>-1&&t<n.AddressList.length){var i=n.AddressList[t],o={ID:i.ID,Lng:i.Lng,Lat:i.Lat,Province:i.Province,City:i.City,District:i.District,Address:i.Address,Address2:i.Address2,Address3:i.Address3,Phone:i.Phone,FullName:i.FullName,IsDefault:i.IsDefault,RegionID:i.RegionID,Region:i.RegionName};e.navigateTo({url:"/pages/mine/addressEdit?data="+encodeURIComponent(JSON.stringify(o))+"&type="+s})}else e.navigateTo({url:"/pages/mine/addressEdit?type="+s+"&data="})},loadData:function(){var e=this,t=0===this.tabindex?2:1;e.Get("/api/User/GetCommonlyUsedContactPageList?Type="+t+"&PageSize=50",{},e.userInfo.accessToken,(function(t){t.Status&&t.Data&&t.Data.rows.length>0?e.AddressList=t.Data.rows:e.AddressList=[]}))},ChooseArea:function(){e.navigateTo({url:"/pages/index/chooseAddress"})},PageReload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"area",n=this;console.log("cur2:",this.curr),null!=e&&(n.RegionID=e.RegionID,n.Region=e.Region,"address"==t&&(n.Address=e.Address,n.Phone=e.Phone,n.Name=e.Name))},AddressClick:function(t){var n=this;if(!(t<0||t>n.AddressList.length)){for(var r=n.AddressList[t],s={Lng:r.Lng,Lat:r.Lat,Address:r.Address,Address2:r.Address2,Address3:r.Address3,Name:r.FullName,Phone:r.Phone,Province:r.Province,City:r.City,District:r.District,RegionID:r.RegionID,Region:r.RegionName},i=getCurrentPages(),o=-1,a=-1,d=0;d<i.length;d++)"pages/index/index"==i[d].route&&(o=d),i[d].route==n.$scope.route&&(a=d);var c=i[o];c.$vm.PageReload(s,n.type),e.navigateBack({delta:a-o})}}},onLoad:function(e){this.type=e.type,this.curr=e.curr,"1"==this.curr?(this.tabindex=1,this.btnText="收件"):(this.tabindex=0,this.btnText="寄件"),this.loadData()}};t.default=u}).call(this,n("543d")["default"])},f60f:function(e,t,n){"use strict";n.r(t);var r=n("0b81"),s=n("461d");for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);n("46e6");var o,a=n("f0c5"),d=Object(a["a"])(s["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);t["default"]=d.exports}},[["6eab","common/runtime","common/vendor"]]]);