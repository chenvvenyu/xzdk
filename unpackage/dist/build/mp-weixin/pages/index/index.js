(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1ae9":function(t,e,a){"use strict";var i=a("d20a"),o=a.n(i);o.a},"288f":function(t,e,a){"use strict";a.r(e);var i=a("bc43"),o=a("7601");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("1ae9");var s,r=a("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=c.exports},"637c":function(t,e,a){"use strict";(function(t){a("03cd");i(a("66fd"));var e=i(a("288f"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},7601:function(t,e,a){"use strict";a.r(e);var i=a("f536"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},bc43:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=(t._self._c,t.HeadUrlDeal(t.userInfo.HeadUrl));t.$mp.data=Object.assign({},{$root:{m0:a}})},n=[]},d20a:function(t,e,a){},f536:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("7a58")),o=a("2f62"),n=s(a("96cd"));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var d,g,u=a("55c6"),D=function(){a.e("components/uni-icons/uni-icons").then(function(){return resolve(a("b6ed"))}.bind(null,a)).catch(a.oe)},P=0,m={components:{uniIcons:D},data:function(){return{locationAddr:{},timeArray:["8:00~9:00","8:00~9:00","8:00~9:00","8:00~9:00"],timeIndex:0,ShadeShow:!1,IsShowOutlet:!1,OutletList:[],Agreement:!1,moneyRadio:!1,locationPoint:{latitude:0,longitude:0},PostData:{mailingLng:"",mailingLat:"",mailingRegionID:0,mailingRegion:"",mailingProvince:"",mailingCity:"",mailingDistrict:"",mailingAddress:"从哪儿寄出?",mailingAddress2:"",mailingAddress3:"",mailingPersonName:"点击填写寄件人信息",mailingPhone:"",receiptLng:"",receiptLat:"",receiptRegionID:0,receiptRegion:"",receiptProvince:"",receiptCity:"",receiptDistrict:"",receiptAddress:"要寄到哪儿?",receiptAddress2:"",receiptAddress3:"",receiptPersonName:"点击填写收件人信息",receiptPhone:"",remark:"",isProcuration:!1,weight:3,startWeight:0,startPrice:0,exceedWeight:0,exceedPrice:0,cost:0,goodsPrice:0,couponID:0,clientPlatform:2,fareArrivePay:!1,expedited:!1,valet:!1,goodsInfo:"货物",goodsCount:1,haulDistance:0},GoodsList:["货物","文件","样品","生鲜","服装","首饰","数码","其它"],GoodsIndex:0,banerImg:[],polygons:[],AddressDesc:"",AddressTitle:"",reAddressDesc:"",reAddressTitle:"",regionList:[]}},computed:c({},(0,o.mapState)(["hasLogin","userInfo"])),methods:{HeadUrlDeal:function(t){return i.default.IsNull(t)?"/static/images/dt_false_dl.png":t},GetDefaultContact:function(){d=new u.BMapWX,t.getLocation({type:"gcj02",success:function(t){d.regeocoding({location:t.latitude+","+t.longitude,success:function(t){var a=t.originalData.result.pois[0];if(a){var i=a.name,o="",n=a.addr;e.PostData.mailingLng=a.point.x,e.PostData.mailingLat=a.point.y,e.PostData.mailingAddress=i,e.PostData.mailingAddress2=o,e.PostData.mailingAddress3=n}}})}});var e=this;g=setInterval((function(){P>=20?clearInterval(g):e.userInfo.accessToken?(e.PostData.mailingPersonName=""!=e.userInfo.FullName?e.userInfo.FullName:"",e.PostData.mailingPhone=e.userInfo.Mobile,clearInterval(g)):P++}),200)},FareArrivePayChange:function(t){var e=this;e.PostData.fareArrivePay=t},GoWebview:function(e){i.default.IsNull(e)||t.navigateTo({url:"webView?type="+e})},btnSubmit:function(){var e=this;e.hasLogin||t.showModal({title:"登录提示",content:"检测到您未登录，是否立即登录！",confirmText:"立即登录",confirmColor:"#3399FE",cancelText:"暂不登录",cancelColor:"#666666",success:function(e){e.confirm&&t.navigateTo({url:"/pages/login/login?goto=/pages/index/index"})}}),e.Agreement?i.default.IsDouble(e.PostData.mailingLng)&&i.default.IsDouble(e.PostData.mailingLat)?i.default.IsDouble(e.PostData.receiptLng)&&i.default.IsDouble(e.PostData.receiptLat)?i.default.IsNull(e.PostData.mailingPersonName)?e.showMsg("请填写寄件人姓名！"):i.default.IsNull(e.PostData.mailingPhone)?e.showMsg("请填写寄件人电话！"):i.default.IsNull(e.PostData.receiptPersonName)?e.showMsg("请填写收件人姓名！"):i.default.IsNull(e.PostData.receiptPhone)?e.showMsg("请填写收件人电话！"):e.Get("/api/Region/GetRegionByCoordinate?lng="+e.PostData.mailingLng+"&lat="+e.PostData.mailingLat,"",e.userInfo.accessToken,(function(t){console.log(t),t.Status?(e.PostData.mailingRegionID=t.Data.ID,e.PostData.mailingRegion=t.Data.Name,e.PostData.mailingProvince=t.Data.Province,e.PostData.mailingCity=t.Data.City,e.PostData.mailingDistrict=t.Data.District,e.Get("/api/Region/GetRegionByCoordinate?lng="+e.PostData.receiptLng+"&lat="+e.PostData.receiptLat,"",e.userInfo.accessToken,(function(t){if(console.log(t),!t.Status)return e.PostData.receiptRegionID=0,e.PostData.receiptRegion="",void e.showMsg("收件区域未开通！");e.PostData.receiptRegionID=t.Data.ID,e.PostData.receiptRegion=t.Data.Name,e.PostData.receiptProvince=t.Data.Province,e.PostData.receiptCity=t.Data.City,e.PostData.receiptDistrict=t.Data.District,e.ShadeShow=!0}))):(e.PostData.mailingRegionID=0,e.PostData.mailingRegion="",e.showMsg("寄件区域未开通！"))}),"biz","application/json",!0):e.showMsg("请选择收件定位或填写地址！"):e.showMsg("请选择寄件定位或填写地址！"):e.showMsg("请阅读并同意《服务协议》和《隐私政策》！")},sliderChange:function(t){var e=this;e.PostData.weight=t.detail.value},btnOrder:function(){var e=this;e.hasLogin?t.navigateTo({url:"/pages/mine/orderList"}):t.showModal({title:"登录提示",content:"检测到您未登录，是否立即登录！",confirmText:"立即登录",confirmColor:"#3399FE",cancelText:"暂不登录",cancelColor:"#666666",success:function(e){e.confirm&&t.navigateTo({url:"/pages/login/login?goto=/pages/mine/mine"})}})},btnMime:function(){var e=this;e.hasLogin?t.navigateTo({url:"/pages/mine/mine"}):t.showModal({title:"登录提示",content:"检测到您未登录，是否立即登录！",confirmText:"立即登录",confirmColor:"#3399FE",cancelText:"暂不登录",cancelColor:"#666666",success:function(e){e.confirm&&t.navigateTo({url:"/pages/login/login?goto=/pages/mine/mine"})}})},agreementChange:function(){var t=this;t.Agreement=!t.Agreement},MoneyRadioChange:function(t){var e=this;e.moneyRadio=t,e.PostData.isProcuration=t,0==t&&(e.PostData.goodsPrice=0)},btnAddress1:function(e,a){var o=this,n={};if(o.type=e,"receipt"==e){if(n={Lng:o.PostData.receiptLng,Lat:o.PostData.receiptLat,Province:o.PostData.receiptProvince,City:o.PostData.receiptCity,District:o.PostData.receiptDistrict,Address:"要寄到哪儿?"==o.PostData.receiptAddress?"":o.PostData.receiptAddress,Address2:o.PostData.receiptAddress2,Address3:o.PostData.receiptAddress3,FullName:"点击填写收件人信息"==o.PostData.receiptPersonName?"":o.PostData.receiptPersonName,Phone:o.PostData.receiptPhone,RegionID:o.PostData.receiptRegionID,RegionName:o.PostData.receiptRegion},console.log("_item",n),!i.default.IsInt(o.PostData.receiptRegionID)||Number(o.PostData.receiptRegionID)<1)return console.log("收件操作"),void t.navigateTo({url:"address?address="+encodeURIComponent(JSON.stringify(n))+"&type="+e})}else if(console.log("mailing"),console.log(o),console.log(o.PostData),n={Lng:o.PostData.mailingLng,Lat:o.PostData.mailingLat,Province:o.PostData.mailingProvince,City:o.PostData.mailingCity,District:o.PostData.mailingDistrict,Address:o.PostData.mailingAddress,Address2:o.PostData.mailingAddress2?o.PostData.mailingAddress2:"",Address3:o.PostData.mailingAddress3?o.PostData.mailingAddress3:"",FullName:"点击填写寄件人信息"==o.PostData.mailingPersonName?"":o.PostData.mailingPersonName,Phone:o.PostData.mailingPhone,RegionID:o.PostData.mailingRegionID,RegionName:o.PostData.mailingRegion},!i.default.IsInt(o.PostData.mailingRegionID)||Number(o.PostData.mailingRegionID)<1)return void t.navigateTo({url:"address?address="+encodeURIComponent(JSON.stringify(n))+"&type="+e});t.navigateTo({url:"address?address="+encodeURIComponent(JSON.stringify(n))+"&type="+e})},btnAddress:function(e,a){var i=this;if(i.hasLogin)return t.navigateTo({url:"/pages/mine/addressList?curr="+a+"&type="+e});t.showModal({title:"登录提示",content:"检测到您未登录，是否立即登录！",confirmText:"立即登录",confirmColor:"#3399FE",cancelText:"暂不登录",cancelColor:"#666666",success:function(e){e.confirm&&t.navigateTo({url:"/pages/login/login?goto=/pages/index/index"})}})},PageReload:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mailing",a=this;if(null!=t)return"receipt"==e?(a.type="receipt",console.log(t),a.reAddressTitle=t.Address,a.reAddressDesc=t.Address2,a.PostData.receiptLng=t.Lng,a.PostData.receiptLat=t.Lat,a.PostData.receiptProvince=t.Province,a.PostData.receiptCity=t.City,a.PostData.receiptDistrict=t.District,a.PostData.receiptAddress=t.Address,a.PostData.receiptAddress2=t.Address2,a.PostData.receiptAddress3=t.Address3,a.PostData.receiptPersonName=t.Name,a.PostData.receiptPhone=t.Phone,a.PostData.receiptRegionID=t.RegionID,void(a.PostData.receiptRegion=t.Region)):(a.type="mailing",a.AddressTitle=t.Address,a.AddressDesc=t.Address2,a.PostData.mailingLng=t.Lng,a.PostData.mailingLat=t.Lat,a.PostData.mailingProvince=t.Province,a.PostData.mailingCity=t.City,a.PostData.mailingDistrict=t.District,a.PostData.mailingAddress=t.Address,a.PostData.mailingAddress2=t.Address2,a.PostData.mailingAddress3=t.Address3,a.PostData.mailingPersonName=t.Name,a.PostData.mailingPhone=t.Phone,a.PostData.mailingRegionID=t.RegionID,void(a.PostData.mailingRegion=t.Region))},TypeClick:function(t){var e=this;e.PostData.expedited=t},shadeClick:function(){var t=this;t.ShadeShow=!1},GoodsItemClick:function(t){var e=this;if(t>e.GoodsList.length-1)return e.GoodsIndex=-1,void(e.PostData.goodsInfo="");e.GoodsIndex=t,e.PostData.goodsInfo=e.GoodsList[t]},btnLoad:function(){var e=this;i.default.IsNull(e.PostData.goodsInfo)?e.showMsg("请选择物品信息！"):!i.default.IsInt(e.PostData.goodsCount)||Number(e.PostData.goodsCount)<1||Number(e.PostData.goodsCount)>10?e.showMsg("物品件数范围1-10！"):!i.default.IsInt(e.PostData.weight)||Number(e.PostData.weight)<3||Number(e.PostData.weight)>300?e.showMsg("物品重量范围3-300！"):(e.PostData.haulDistance=n.default.GetDistance(e.PostData.mailingLat,e.PostData.mailingLng,e.PostData.receiptLat,e.PostData.receiptLng),t.navigateTo({url:"/pages/index/orderConfirm?data="+encodeURIComponent(JSON.stringify(e.PostData))}))},getData:function(){var t=this;t.Get("/api/Home/GetBanners",{},"",(function(e){e.Status&&(t.banerImg=e.Data)}),"applets")}},onLoad:function(e){t.showShareMenu({menus:["shareAppMessage","shareTimeline"]});var a=this,o=e.goto,n=e.mobile?e.mobile:0;t.setStorageSync("leader",n),i.default.IsNull(o)||t.navigateTo({url:o}),this.getData(),a.GetDefaultContact()},onShareAppMessage:function(e){var a=t.getStorageSync("login").Mobile;return i.default.IsNull(a)?{title:"城递优选,配送到家",path:"/pages/index/index"}:(console.log("path","/pages/index/index?mobile="+a),{title:"城递优选,配送到家",path:"/pages/index/index?mobile="+a})},onShareTimeline:function(t){},bindPickerChange:function(t){this.timeIndex=t.target.value}};e.default=m}).call(this,a("543d")["default"])}},[["637c","common/runtime","common/vendor"]]]);