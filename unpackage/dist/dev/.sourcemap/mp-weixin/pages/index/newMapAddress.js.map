{"version":3,"sources":["uni-app:///main.js","webpack:///D:/net享指特快代码/applets/pages/index/newMapAddress.vue?e938","webpack:///D:/net享指特快代码/applets/pages/index/newMapAddress.vue?ebe6","webpack:///D:/net享指特快代码/applets/pages/index/newMapAddress.vue?688a","webpack:///D:/net享指特快代码/applets/pages/index/newMapAddress.vue?6c96","uni-app:///pages/index/newMapAddress.vue","webpack:///D:/net享指特快代码/applets/pages/index/newMapAddress.vue?3e0b","webpack:///D:/net享指特快代码/applets/pages/index/newMapAddress.vue?a1f3"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsI;AACtI;AACiE;AACL;AACsC;;;AAGlG;AACkM;AAClM,gBAAgB,4MAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,oGAAM;AACR,EAAE,6GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,aAAa,sQAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAqwB,CAAgB,kxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6CzxB;AACA;AACA,+C;;;AAGA;AACA,S;AACA;AACA,sFADA;AAEA,MAFA,kBAEA;AACA;AACA,qBADA;AAEA,6BAFA;AAGA,qBAHA;AAIA,iBAJA;AAKA,qBALA;AAMA,gEANA;AAOA,sFAPA;AAQA;AACA,kBADA;AAEA,gBAFA;AAGA,qBAHA;AAIA,mBAJA;AAKA,uBALA;AAMA,4BANA;AAOA,6BAPA;AAQA,qBARA;AASA,oBATA;AAUA,oBAVA;AAWA,oBAXA;AAYA,kBAZA;AAaA,yBAbA;AAcA,gBAdA;AAeA,qBAfA,EARA;;AAyBA,oBAzBA;AA0BA,kBA1BA;AA2BA,sBA3BA;AA4BA;AACA,qBADA,EACA;AACA,sBAFA,EAEA;AACA,sBAHA,EAGA;AACA,kBAJA,EAIA;AACA,sBALA,EAKA;AACA,qBANA,EAMA;AACA,oBAPA,CAOA;AAPA,OA5BA;AAqCA,uBArCA;;AAuCA,GA1CA;AA2CA;AACA,+CADA,CA3CA;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,8BAFA;AAGA,sCAHA;AAIA,oCAJA;;AAMA;AACA;AACA;AACA;AACA,2CADA;AAEA,4CAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,WArBA;AAsBA;AACA;AACA;AACA;AACA;AACA,OA7BA,EA6BA,KA7BA;;AA+BA,KAnCA,EA9CA;;AAmFA;AACA;AACA,aAFA,qBAEA,IAFA,EAEA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,6CAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,oDADA;AAEA,qDAFA;AAGA,8CAHA;AAIA,wCAJA;AAKA,wCALA;AAMA,gDANA;AAOA,gDAPA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAhCA,EAgCA;AACA;AACA,SAlCA;;AAoCA,KA1CA;AA2CA;AACA,eA5CA,uBA4CA,CA5CA,EA4CA;AACA;AACA;AACA;AACA,KAhDA;AAiDA;AACA,YAlDA,sBAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OAZA;AAaA,KAlEA;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;AAGA,8BAHA;AAIA,gCAJA;AAKA,gCALA;AAMA,4BANA;AAOA,0BAPA;AAQA,gCARA;AASA,wBATA;AAUA,gCAVA;AAWA,gCAXA;AAYA,gCAZA;;AAcA,oCA/BA,CA+BA;AACA,6CAhCA,CAgCA;AACA;AACA;AACA,KAvGA;AAwGA,YAxGA,sBAwGA;AACA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA,wDADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAfA;;AAiBA,SApBA;;AAsBA,KAjIA;AAkIA,mBAlIA,2BAkIA,KAlIA,EAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,2BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA,kDAFA;AAGA,4CAHA;AAIA,wCAJA;AAKA,wCALA;AAMA,gDANA;AAOA,kDAPA;AAQA,+CARA;AASA,yCATA;;AAWA;AACA,mFADA;;AAGA;AACA;AACA;AACA;AACA,oBADA;AAEA,yBAFA;;AAIA,KA9KA,EAnFA;;AAmQA,QAnQA,kBAmQA,MAnQA,EAmQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBADA;AAEA,aAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,sDADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAfA;AAgBA;AACA;AACA;AACA,WAnBA;;AAqBA,OAzBA;;AA2BA;AACA;;AAEA,GAxSA,E;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAA85C,CAAgB,g3CAAG,EAAC,C;;;;;;;;;;;ACAl7C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/newMapAddress.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/newMapAddress.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./newMapAddress.vue?vue&type=template&id=68c0445c&scoped=true&\"\nvar renderjs\nimport script from \"./newMapAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./newMapAddress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./newMapAddress.vue?vue&type=style&index=0&id=68c0445c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68c0445c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/newMapAddress.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newMapAddress.vue?vue&type=template&id=68c0445c&scoped=true&\"","var components\ntry {\n  components = {\n    uniSearchBar: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-search-bar/uni-search-bar\" */ \"@/components/uni-search-bar/uni-search-bar.vue\"\n      )\n    },\n    uniSegmentedControl: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-segmented-control/uni-segmented-control\" */ \"@/components/uni-segmented-control/uni-segmented-control.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newMapAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newMapAddress.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"search-bar\" hidden=\"1\">\r\n\t\t\t<uni-search-bar :radius=\"34\" @confirm=\"MapSearch\" placeholder=\"小区/街道/建筑名\"></uni-search-bar>\r\n\t\t</view>\r\n\t\t<uni-segmented-control style=\"display: none;\" style-type=\"text\" active-color=\"#66B0EE\" :current=\"current\" :values=\"items\" @clickItem=\"onClickItem\" ></uni-segmented-control>\r\n\t\t<view class=\"content\">\r\n\t\t\t<view v-if=\"current === 0\">\r\n\t\t\t\t<!-- :polygons=\"polygons\" -->\r\n\t\t\t\t<view class=\"map-box\" @touchend=\"touchend\">\r\n\t\t\t\t\t<map class=\"map\" id=\"map\" ref=\"map\" style=\"width: 100%; height: 300px;\" :latitude=\"locationAddr.latitude\"  :longitude=\"locationAddr.longitude\" :markers=\"markerPoint\"></map>\r\n\t\t\t\t\t<image class=\"address-tag\" src=\"../../static/images/addressTag.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mapAddress\">\r\n\t\t\t\t\t<view class=\"item\" @click=\"CheckIsPtInPoly(index)\" v-for=\"(item,index) in searchAddress\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"street\"><uni-icons type=\"location\" size=\"16\"></uni-icons>{{item.address}}</view>\r\n\t\t\t\t\t\t<view class=\"detail\">{{item.desc}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"(!searchAddress || searchAddress.length<1)\" class=\"address-row\" style=\"color: #888888;text-align: center;padding: 15px;font-weight: bold;\">\r\n\t\t\t\t\t\t当前区域没有检索的内容\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"current === 1\">\r\n\t\t\t\t<view class=\"address-box\">\r\n\t\t\t\t\t<view class=\"address-row\" style=\"color: #888888;text-align: center;\" v-if=\"(!AddressList || AddressList.length<1)\">\r\n\t\t\t\t\t\t暂无常用地址数据\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"address-row\" @tap=\"AddressClick(index)\" v-for=\"(item,index) in AddressList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"person uni-row uni-flex\">\r\n\t\t\t\t\t\t\t<view class=\"name\">{{item.FullName}}</view>\r\n\t\t\t\t\t\t\t<view class=\"phone\">{{item.Phone}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"des\">{{item.Address}}</view>\r\n\t\t\t\t\t\t<view class=\"des\">{{item.Address2 == null ? '' : item.Address2}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniSearchBar from '@/components/uni-search-bar/uni-search-bar.vue'\r\n\timport uniSegmentedControl from \"@/components/uni-segmented-control/uni-segmented-control.vue\"\r\n\timport VerifyHelper from '@/common/verify.js'\r\n\timport BMapLib from '../../common/utilofMap.js'\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex'\r\n\tvar bmap = require('../../common/bmap-wx.js');\r\n\tvar BMap\r\n\texport default {\r\n\t    components: {uniSegmentedControl,uniSearchBar},\r\n\t    data() {\r\n\t        return {\r\n\t\t\t\tbusyFlag : false,\r\n\t            items: ['地图选址','常用地址'],\r\n\t\t\t\ttype:'mailing',\r\n\t            current: -1,\r\n\t\t\t\tAddressList:[],\r\n\t\t\t\tmarkerPoint:[{latitude:29.08624,longitude:119.5715}],\r\n\t\t\t\tlocationAddr:{latitude:29.08624,longitude:119.5715,address:'',desc:''},\r\n\t\t\t\taddressComponent:{\r\n\t\t\t\t\tadcode: \"\",\r\n\t\t\t\t\tcity: \"\",\r\n\t\t\t\t\tcity_level: 0,\r\n\t\t\t\t\tcountry: \"\",\r\n\t\t\t\t\tcountry_code: 0,\r\n\t\t\t\t\tcountry_code_iso: \"\",\r\n\t\t\t\t\tcountry_code_iso2: \"\",\r\n\t\t\t\t\tdirection: \"\",\r\n\t\t\t\t\tdistance: \"\",\r\n\t\t\t\t\tdistrict: \"\",\r\n\t\t\t\t\tprovince: \"\",\r\n\t\t\t\t\tstreet: \"\",\r\n\t\t\t\t\tstreet_number: \"\",\r\n\t\t\t\t\ttown: \"\",\r\n\t\t\t\t\ttown_code: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tregionList:[],\r\n\t\t\t\tpolygons:[],\r\n\t\t\t\tcurrDistrict:'',\r\n\t\t\t\tPostData: {\r\n\t\t\t\t\t\"latitude\": 0,//地址经度\r\n\t\t\t\t\t\"longitude\": 0,//地址纬度\r\n\t\t\t\t\t\"province\": \"\",//地址省\r\n\t\t\t\t\t\"city\": \"\",//地址市\r\n\t\t\t\t\t\"district\": \"\",//地址县/区\r\n\t\t\t\t\t\"regionID\": 0, //区域ID\r\n\t\t\t\t\t\"region\": \"\", //区域名称\r\n\t\t\t\t},\r\n\t\t\t\tsearchAddress:[]\r\n\t        }\r\n\t    },\r\n\t\tcomputed:{\r\n\t\t\t...mapState(['hasLogin','userInfo'])\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tcurrDistrict:function(){\r\n\t\t\t\tlet _self = this;\r\n\t\t\t\t_self.polygons=[]\r\n\t\t\t\t_self.Get('/api/Region/GetRegionListByAddress?district='+_self.addressComponent.district,'',_self.userInfo.accessToken,function(res){\r\n\t\t\t\t\tif(res.Status){\r\n\t\t\t\t\t\tif(res.Data && res.Data.length>0){\r\n\t\t\t\t\t\t\t_self.regionList = res.Data\r\n\t\t\t\t\t\t\tfor (let i=0;i<res.Data.length;i++) {\r\n\t\t\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\t\t\tpoints:[],\r\n\t\t\t\t\t\t\t\t\tstrokeWidth:1,\r\n\t\t\t\t\t\t\t\t\tstrokeColor:'#000000',\r\n\t\t\t\t\t\t\t\t\tfillColor:'#ffffff'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlet _range=JSON.parse(res.Data[i].RangeGCJ02)\r\n\t\t\t\t\t\t\t\tif(_range && _range.length>0){\r\n\t\t\t\t\t\t\t\t\tfor(let j=0;j<_range.length;j++){\r\n\t\t\t\t\t\t\t\t\t\tlet item={\r\n\t\t\t\t\t\t\t\t\t\t\tlatitude:_range[j].lat,\r\n\t\t\t\t\t\t\t\t\t\t\tlongitude:_range[j].lng\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tobj.points.push(item)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_self.polygons.push(obj)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t_self.polygons=[]\r\n\t\t\t\t\t\t\t_self.regionList=[]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},'biz')\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t    methods: {\r\n\t\t\t// 搜索\r\n\t\t\tMapSearch(data){\r\n\t\t\t\tif(VerifyHelper.IsNull(data.value)) return\r\n\t\t\t\tlet _self = this\r\n\t\t\t\t// 发起POI检索请求 \r\n\t\t\t\tBMap.suggestion({ \r\n\t\t\t\t\t\"query\": data.value,\r\n\t\t\t\t\t\"region\":_self.addressComponent.city,\r\n\t\t\t\t\tsuccess: function(res){\r\n\t\t\t\t\t\t_self.searchAddress=[]\r\n\t\t\t\t\t\tif(res.result || res.result.length>0){\r\n\t\t\t\t\t\t\tfor(let i =0;i<res.result.length;i++){\r\n\t\t\t\t\t\t\t\tif(!VerifyHelper.IsNull(_self.addressComponent.city) && res.result[i].city!=_self.addressComponent.city) continue\r\n\t\t\t\t\t\t\t\t_self.searchAddress.push({\r\n\t\t\t\t\t\t\t\t\tlatitude:res.result[i].location.lat,\r\n\t\t\t\t\t\t\t\t\tlongitude:res.result[i].location.lng,\r\n\t\t\t\t\t\t\t\t\taddress:res.result[i].address,\r\n\t\t\t\t\t\t\t\t\tdesc:res.result[i].name,\r\n\t\t\t\t\t\t\t\t\tcity:res.result[i].city,\r\n\t\t\t\t\t\t\t\t\tdistrict:res.result[i].district,\r\n\t\t\t\t\t\t\t\t\tprovince:res.result[i].province,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_self.searchAddress && _self.searchAddress.length>0){\r\n\t\t\t\t\t\t\t\t_self.markerPoint = []\r\n\t\t\t\t\t\t\t\t_self.markerPoint.push({latitude:_self.searchAddress[0].latitude,longitude:_self.searchAddress[0].longitude})\r\n\t\t\t\t\t\t\t\t_self.locationAddr.latitude = _self.searchAddress[0].latitude\r\n\t\t\t\t\t\t\t\t_self.locationAddr.longitude = _self.searchAddress[0].longitude\r\n\t\t\t\t\t\t\t\t_self.locationAddr.address = _self.searchAddress[0].address\r\n\t\t\t\t\t\t\t\t_self.locationAddr.desc = _self.searchAddress[0].desc\r\n\t\t\t\t\t\t\t\t_self.currDistrict = _self.searchAddress[0].district;\r\n\t\t\t\t\t\t\t\t_self.addressComponent.province = _self.searchAddress[0].province\r\n\t\t\t\t\t\t\t\t_self.addressComponent.city = _self.searchAddress[0].city\r\n\t\t\t\t\t\t\t\t_self.addressComponent.district = _self.searchAddress[0].district\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},fail:function(){\r\n\t\t\t\t\t\t_self.searchAddress=[]\r\n\t\t\t\t\t}\r\n\t\t\t\t}); \r\n\t\t\t},\r\n\t\t\t//tab切换\r\n\t        onClickItem(e) {\r\n\t            if (this.current !== e.currentIndex) {\r\n\t                this.current = e.currentIndex;\r\n\t            }\r\n\t        },\r\n\t\t\t//获取常用地址\r\n\t\t\tDataLoad(){\r\n\t\t\t\tlet _self = this;\r\n\t\t\t\t_self.AddressList=[]\r\n\t\t\t\t_self.Get('/api/User/GetCommonlyUsedContact','',_self.userInfo.accessToken,function(res){\r\n\t\t\t\t\tif(res.Status && res.Data && res.Data.length>0){\r\n\t\t\t\t\t\tlet _data = res.Data;\r\n\t\t\t\t\t\tfor (let i = 0;i<_data.length;i++) {\r\n\t\t\t\t\t\t\tif(_self.type == 'receipt'){\r\n\t\t\t\t\t\t\t\tif(_data[i].Type==1) _self.AddressList.push(_data[i])\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tif(_data[i].Type==2) _self.AddressList.push(_data[i])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//常用地址点击\r\n\t\t\tAddressClick:function(index){\r\n\t\t\t\tlet _self = this;\r\n\t\t\t\tif(index<0 || index>_self.AddressList.length) return;\r\n\t\t\t\tlet _data = _self.AddressList[index]\r\n\t\t\t\t// let _arr = _data.Address.split('&')\r\n\t\t\t\t// let _address=''\r\n\t\t\t\t// let _desc=''\r\n\t\t\t\t// if(_arr && _arr.length>0){\r\n\t\t\t\t// \t_address = _arr[0];\r\n\t\t\t\t// \tfor(let i=1;i<_arr.length;i++){\r\n\t\t\t\t// \t\tif(_desc.length==0) _desc+=_arr[i]\r\n\t\t\t\t// \t\telse _desc+=',' + _arr[i]\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\tlet _Address2 = _data.Address2 ?  _data.Address2 : ''\r\n\t\t\t\t// _Address2 = _Address2.replace(/[\\u6d59\\u6c5f\\u7701\\u91d1\\u534e\\u5e02\\u4e49\\u4e4c]+/g,'')\r\n\t\t\t\t//_Address2 = _Address2.replace(\"浙江省金华市义乌市\",\"\")\r\n\t\t\t\tlet _item={\r\n\t\t\t\t\tLng:_data.Lng,\r\n\t\t\t\t\tLat:_data.Lat,\r\n\t\t\t\t\tAddress: _data.Address,\r\n\t\t\t\t\tAddress2: _data.Address2,\r\n\t\t\t\t\tAddress3:_data.Address3,\r\n\t\t\t\t\tName:_data.FullName,\r\n\t\t\t\t\tPhone:_data.Phone,\r\n\t\t\t\t\tProvince:_data.Province,\r\n\t\t\t\t\tCity:_data.City,\r\n\t\t\t\t\tDistrict:_data.District,\r\n\t\t\t\t\tRegionID:_data.RegionID,\r\n\t\t\t\t\tRegion:_data.RegionName,\r\n\t\t\t\t}\r\n\t\t\t\tlet pages = getCurrentPages();  //获取所有页面栈实例列表\r\n\t\t\t\tlet prevPage = pages[pages.length-2];  //上一页页面实例\r\n\t\t\t\tprevPage.$vm.PageReload(_item,_self.type,_data.Address,_data.Address2);\r\n\t\t\t\tuni.navigateBack({delta:1})\r\n\t\t\t},\r\n\t\t\ttouchend(){\r\n\t\t\t\tlet _self = this;\r\n\t\t\t\t_self.searchAddress=[]\r\n\t\t\t\tuni.createMapContext(\"map\",this).getCenterLocation({\r\n\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\t// 发起regeocoding检索请求 \r\n\t\t\t\t\t\tBMap.regeocoding({ \r\n\t\t\t\t\t\t\tlocation:res.latitude+','+res.longitude,\r\n\t\t\t\t\t\t    success: function(data) { \r\n\t\t\t\t\t\t\t\tlet _obj = data.wxMarkerData;\r\n\t\t\t\t\t\t\t\tif(_obj && _obj.length>0){\r\n\t\t\t\t\t\t\t\t\t _self.locationAddr.latitude = _obj[0].latitude\r\n\t\t\t\t\t\t\t\t\t _self.locationAddr.longitude = _obj[0].longitude\r\n\t\t\t\t\t\t\t\t\t _self.locationAddr.address = _obj[0].address\r\n\t\t\t\t\t\t\t\t\t _self.locationAddr.desc = _obj[0].desc\r\n\t\t\t\t\t\t\t\t\t _self.searchAddress.push(_self.locationAddr)\r\n\t\t\t\t\t\t\t\t\t _self.addressComponent = data.originalData.result.addressComponent\r\n\t\t\t\t\t\t\t\t\t _self.markerPoint = [];\r\n\t\t\t\t\t\t\t\t\t _self.markerPoint.push({latitude:_self.locationAddr.latitude,longitude:_self.locationAddr.longitude})\r\n\t\t\t\t\t\t\t\t\t _self.currDistrict = _self.addressComponent.district;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}); \r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tCheckIsPtInPoly(index){\r\n\t\t\t\tlet _self = this\r\n\t\t\t\t_self.markerPoint = []\r\n\t\t\t\t_self.markerPoint.push({latitude:_self.searchAddress[index].latitude,longitude:_self.searchAddress[index].longitude})\r\n\t\t\t\t_self.locationAddr.latitude = _self.searchAddress[index].latitude\r\n\t\t\t\t_self.locationAddr.longitude = _self.searchAddress[index].longitude\r\n\t\t\t\t_self.locationAddr.address = _self.searchAddress[index].address\r\n\t\t\t\t_self.locationAddr.desc = _self.searchAddress[index].desc\r\n\t\t\t\t// _self.currDistrict = _self.searchAddress[index].district;\r\n\t\t\t\t_self.addressComponent.province = _self.searchAddress[index].province\r\n\t\t\t\t_self.addressComponent.city = _self.searchAddress[index].city\r\n\t\t\t\t_self.addressComponent.district = _self.searchAddress[index].district\r\n\t\t\t\tif(!_self.polygons || _self.polygons.length<1){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\ttitle:'该区域未开通服务'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet _res = false\r\n\t\t\t\tfor(let i=0;i<_self.polygons.length;i++){\r\n\t\t\t\t\t_res = (BMapLib.IsPtInPoly(_self.locationAddr.latitude,_self.locationAddr.longitude,_self.polygons[i].points))\r\n\t\t\t\t\tif(_res===true){\r\n\t\t\t\t\t\tlet _item = {\r\n\t\t\t\t\t\t\tCity:_self.regionList[i].City,\r\n\t\t\t\t\t\t\tDistrict:_self.regionList[i].District,\r\n\t\t\t\t\t\t\tRegionID:_self.regionList[i].ID,\r\n\t\t\t\t\t\t\tLat:_self.regionList[i].Lat,\r\n\t\t\t\t\t\t\tLng:_self.regionList[i].Lng,\r\n\t\t\t\t\t\t\tRegionName:_self.regionList[i].Name,\r\n\t\t\t\t\t\t\tProvince:_self.regionList[i].Province,\r\n\t\t\t\t\t\t\tAddress:_self.locationAddr.address,\r\n\t\t\t\t\t\t\tDesc:_self.locationAddr.desc\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:'address?address='+JSON.stringify(_item)+'&type='+_self.type\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon:'none',\r\n\t\t\t\t\ttitle:'该区域未开通服务'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t    },\r\n\t\tonLoad(option) {\r\n\t\t\tlet _self = this\r\n\t\t\tBMap = new bmap.BMapWX(); \r\n\t\t\t\r\n\t\t\tlet _index = option.curr\r\n\t\t\t_self.DataLoad();\r\n\t\t\t_self.type = option.type\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype:'gcj02',\r\n\t\t\t\tsuccess(res){\r\n\t\t\t\t\t// 发起regeocoding检索请求\r\n\t\t\t\t\tBMap.regeocoding({ \r\n\t\t\t\t\t\tlocation:res.latitude+','+res.longitude,\r\n\t\t\t\t\t    success: function(data) { \r\n\t\t\t\t\t\t\tlet _obj = data.wxMarkerData;\r\n\t\t\t\t\t\t\t_self.markerPoint = []\r\n\t\t\t\t\t\t\tif(_obj && _obj.length>0){\r\n\t\t\t\t\t\t\t\t _self.locationAddr.latitude = _obj[0].latitude\r\n\t\t\t\t\t\t\t\t _self.locationAddr.longitude = _obj[0].longitude\r\n\t\t\t\t\t\t\t\t _self.locationAddr.address = _obj[0].address\r\n\t\t\t\t\t\t\t\t _self.locationAddr.desc = _obj[0].desc\r\n\t\t\t\t\t\t\t\t _self.searchAddress.push(_self.locationAddr)\r\n\t\t\t\t\t\t\t\t _self.addressComponent = data.originalData.result.addressComponent\r\n\t\t\t\t\t\t\t\t _self.markerPoint.push({latitude:_self.locationAddr.latitude,longitude:_self.locationAddr.longitude})\r\n\t\t\t\t\t\t\t\t _self.currDistrict = _self.addressComponent.district\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(){\r\n\t\t\t\t\t\t\t_self.markerPoint = []\r\n\t\t\t\t\t\t\t_self.markerPoint.push({latitude:29.08624,longitude:119.5715})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}); \r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif(!VerifyHelper.IsInt(_index) || _index<0 || _index>_self.items.length) _self.current = 0\r\n\t\t\telse _self.current = Number(_index);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.page{\r\n\t\t*{box-sizing: border-box;}\r\n\t\t.search-bar{margin: 20upx 0;padding: 0 30upx;}\r\n\t\t.content{\r\n\t\t\tmargin-top: 20upx;\r\n\t\t\t.map-box{\r\n\t\t\t\tposition: relative;z-index: 9999;\r\n\t\t\t\t.address-tag{position: absolute;left: 50%;top: 50%;width: 32px;height: 32px;margin-top: -32px;margin-left: -16px;}\r\n\t\t\t}\r\n\t\t\t.mapAddress{\r\n\t\t\t\tbackground-color: #FFFFFF;border-bottom : 1px solid #f0f0f0;\r\n\t\t\t\tborder-top: 1px solid #f0f0f0;\r\n\t\t\t\tmin-height: 200px;padding: 0 30upx;\r\n\t\t\t\t.item{padding: 20upx 0;border-bottom: 1px solid #f0f0f0;\r\n\t\t\t\t\t.street{font-size: 14px;font-weight: bold;}\r\n\t\t\t\t\t.detail{color: #888888;font-size: 13px;}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.address-box{margin-top: 10upx;padding: 0 30upx;\r\n\t\t\t\t.address-row{border-bottom: 1upx solid #F5F5F5;padding: 20upx 0;\r\n\t\t\t\t\t.person{height: 60upx;\r\n\t\t\t\t\t\t.name{color: #222222;font-size: 32upx;font-weight: bold;line-height: 60upx;margin-right: 20upx;}\r\n\t\t\t\t\t\t.phone{color: #666666;font-size: 28upx;line-height: 60upx;}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.des{color: #888888;}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newMapAddress.vue?vue&type=style&index=0&id=68c0445c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newMapAddress.vue?vue&type=style&index=0&id=68c0445c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1620886816550\n      var cssReload = require(\"D:/HBuilderX.3.1.11.20210423.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}