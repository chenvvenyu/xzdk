{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/admin/Desktop/新建文件夹 (3)/xztcnetapplets/App.vue?d0d7","uni-app:///App.vue","webpack:///C:/Users/admin/Desktop/新建文件夹 (3)/xztcnetapplets/App.vue?bf96","webpack:///C:/Users/admin/Desktop/新建文件夹 (3)/xztcnetapplets/App.vue?4e14"],"names":["Vue","config","productionTip","App","mpType","prototype","stringToDateTime","str","year","month","day","length","substring","stringToDate","stringToHour","showMsg","title","duration","mask","icon","Boolean","uni","showToast","POST","url","data","token","callback","type","content","_request","t","request","method","header","async","complete","res","hideLoading","statusCode","accessToken","getStorageSync","refreshToken","reLaunch","res1","Status","Data","userInfo","setStorageSync","res2","console","log","Get","RefreshToken","app","store","$mount"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nApp.mpType = 'app'\r\n\r\n//时间字符串转yyyy-mm-dd hh:mm:ss\r\nVue.prototype.stringToDateTime = function(str,year=\"-\",month=\"-\",day=\"\") {\r\n\tif (str == null || str.length < 19) return \"\";\r\n\treturn str.substring(0,4)+year+str.substring(5,7)+month+str.substring(8,10)+day+\" \"+str.substring(11,19);\r\n}\r\n//时间字符串转yyyy-mm-dd\r\nVue.prototype.stringToDate = function(str,year=\"-\",month=\"-\",day=\"\") {\r\n\tif (str == null || str.length < 10) return \"\";\r\n\treturn str.substring(0,4)+year+str.substring(5,7)+month+str.substring(8,10)+day;\r\n}\r\n//时间字符串转HH:mm\r\nVue.prototype.stringToHour = function(str) {\r\n\tif (str == null || str.length < 16) return \"\";\r\n\treturn str.substring(11,16);\r\n}\r\n\r\n//提示框\r\nVue.prototype.showMsg= (title, duration=2000, mask=false, icon='none')=>{\r\n\tif(Boolean(title) === false) return;\r\n\tuni.showToast({title,duration,mask,icon});\r\n}\r\n\r\nVue.prototype.POST=function(url,data,token,callback,type='biz',content='application/json'){\r\n\tlet _request = 'https://biz.zjxztc.com',t = this;\r\n\tif(type=='auth') _request = 'https://auth.zjxztc.com';\r\n\telse if(type=='passport') _request = 'https://passport.zjxztc.com';\r\n\telse if(type=='applets') _request = 'https://applets.zjxztc.com'\r\n\telse if(type=='repay') _request = 'https://repay.zjxztc.com'\r\n\tuni.request({\r\n\t\turl: _request+url,\r\n\t\tmethod: 'POST',\r\n\t\theader: {'content-type': content,'Authorization':'Bearer '+token},\r\n\t\tdata: data,\r\n\t\tasync:false,//同步属性设置为true \r\n\t\tcomplete:(res)=> {\r\n\t\t\tuni.hideLoading();\r\n\t\t\tif(res.statusCode==200)\r\n\t\t\t{\r\n\t\t\t\tcallback(res.data);\r\n\t\t\t}\r\n\t\t\telse if(res.statusCode==401){\r\n\t\t\t\tlet accessToken = uni.getStorageSync('accessToken'),refreshToken = uni.getStorageSync('refreshToken');\r\n\t\t\t\tif(!accessToken || !refreshToken){\r\n\t\t\t\t\t  uni.reLaunch({\r\n\t\t\t\t\t\t\t  url:'/pages/login/login.vue'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'https://auth.zjxztc.com/api/Auth/RefreshToken',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {'content-type': 'application/json'},\r\n\t\t\t\t\t\tdata:  {\r\n\t\t\t\t\t\t\t\t  \"accessToken\": accessToken,\r\n\t\t\t\t\t\t\t\t  \"refreshToken\": refreshToken\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\tasync:false,//同步属性设置为true \r\n\t\t\t\t\t\tcomplete:(res1)=> {\r\n\t\t\t\t\t\t\tif(res1.statusCode!=200||typeof(res1.data)!=\"object\"||res1.data.Status == false){\r\n\t\t\t\t\t\t\t\t  uni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t  url:'/pages/login/login.vue'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\taccessToken = res1.data.Data.accessToken;\r\n\t\t\t\t\t\t\t\trefreshToken = res1.data.Data.refreshToken;\r\n\t\t\t\t\t\t\t\tt.userInfo.accessToken = accessToken;\r\n\t\t\t\t\t\t\t\tt.userInfo.refreshToken = refreshToken;\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('accessToken',accessToken);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('refreshToken',refreshToken);\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl: _request+url,\r\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\theader: {'content-type': content,'Authorization':'Bearer ' + accessToken},\r\n\t\t\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\t\t\tasync:false,//同步属性设置为true \r\n\t\t\t\t\t\t\t\t\tcomplete:(res2)=>{\r\n\t\t\t\t\t\t\t\t\t\tif(res2.statusCode==200){\r\n\t\t\t\t\t\t\t\t\t\t\tcallback(res2.data);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.showMsg(\"服务器异常!\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(res.statusCode==500){\r\n\t\t\t\tthis.showMsg(\"服务器错误，请重试!\");\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.showMsg(\"未知错误，请重试!\");\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nVue.prototype.Get=function(url,data,token,callback,type='biz',content='application/json',async=false){\r\n\tlet _request = 'https://biz.zjxztc.com',t=this;\r\n\tif(type=='auth') _request = 'https://auth.zjxztc.com';\r\n\telse if(type=='passport') _request = 'https://passport.zjxztc.com';\r\n\telse if(type=='applets') _request = 'https://applets.zjxztc.com'\r\n\telse if(type=='repay') _request = 'https://repay.zjxztc.com'\r\n\tuni.request({\r\n\t\turl: _request+url,\r\n\t\tmethod: 'Get',\r\n\t\theader: {'content-type': content,'Authorization':'Bearer '+token},\r\n\t\tdata: data,\r\n\t\tasync:async,//同步属性设置为true \r\n\t\tcomplete:(res)=> {\r\n\t\t\tuni.hideLoading();\r\n\t\t\tif(res.statusCode==200)\r\n\t\t\t{\r\n\t\t\t\tcallback(res.data);\r\n\t\t\t}\r\n\t\t\telse if(res.statusCode==401){\r\n\t\t\t\tlet accessToken = uni.getStorageSync('accessToken'),refreshToken = uni.getStorageSync('refreshToken');\r\n\t\t\t\tif(!accessToken || !refreshToken){\r\n\t\t\t\t\t  uni.reLaunch({\r\n\t\t\t\t\t\t\t  url:'/pages/login/login.vue'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'https://auth.zjxztc.com/api/Auth/RefreshToken',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {'content-type': 'application/json'},\r\n\t\t\t\t\t\tdata:  {\r\n\t\t\t\t\t\t\t\t  \"accessToken\": accessToken,\r\n\t\t\t\t\t\t\t\t  \"refreshToken\": refreshToken\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\tasync:async,//同步属性设置为true \r\n\t\t\t\t\t\tcomplete:(res1)=> {\r\n\t\t\t\t\t\t\tif(res1.statusCode!=200||typeof(res1.data)!=\"object\"||res1.data.Status == false){\r\n\t\t\t\t\t\t\t\t  uni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t  url:'/pages/login/login.vue'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\taccessToken = res1.data.Data.accessToken;\r\n\t\t\t\t\t\t\t\trefreshToken = res1.data.Data.refreshToken;\r\n\t\t\t\t\t\t\t\tt.userInfo.accessToken = accessToken;\r\n\t\t\t\t\t\t\t\tt.userInfo.refreshToken = refreshToken;\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('accessToken',accessToken);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('refreshToken',refreshToken);\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl: _request+url,\r\n\t\t\t\t\t\t\t\t\tmethod: 'Get',\r\n\t\t\t\t\t\t\t\t\theader: {'content-type': content,'Authorization':'Bearer ' + accessToken},\r\n\t\t\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\t\t\tasync:async,//同步属性设置为true \r\n\t\t\t\t\t\t\t\t\tcomplete:(res2)=>{\r\n\t\t\t\t\t\t\t\t\t\tif(res2.statusCode==200)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tcallback(res2.data);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.showMsg(\"服务器异常!\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.showMsg(\"服务器异常!\");\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nVue.prototype.RefreshToken=function(accessToken,refreshToken,userInfo){\r\n\tuni.request({\r\n\t\turl: 'https://auth.zjxztc.com/api/Auth/RefreshToken',\r\n\t\tmethod: 'POST',\r\n\t\theader: {'content-type': 'application/json'},\r\n\t\tdata: data,\r\n\t\tasync:false,//同步属性设置为true \r\n\t\tcomplete:(res)=> {\r\n\t\t\tif(res.statusCode!=200||typeof(res.data)!=\"object\"){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tuserInfo.accessToken=res.data.Data.accessToken;\r\n\t\t\t\tuserInfo.refreshToken=res.data.Data.refreshToken;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst app = new Vue({\r\n\tstore,\r\n    ...App\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\timport Vue from 'vue';\r\n\timport {mapState,mapMutations} from 'vuex';\r\n\timport VerifyHelper from \"@/common/verify.js\";\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\tthis.GetUserInfo();\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\t\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\t\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState(['hasLogin','userInfo','unionId','openId'])\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 映射login状态到页面示例中，可以直接访问，实时获取Mutations的值\r\n\t\t\t...mapMutations(['login']),\r\n\t\t\t//获取微信数据\r\n\t\t\tGetUserInfo() {\r\n\t\t\t\tlet _self=this;\r\n\t\t\t\tuni.login({//获取code\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess(loginRes) {\r\n\t\t\t\t\t\twx.getSetting({//判断是否授权\r\n\t\t\t\t\t\t\tsuccess(settingRes) {\r\n\t\t\t\t\t\t\t\tif (settingRes.authSetting['scope.userInfo']) {//已授权直接获取用户信息\r\n\t\t\t\t\t\t\t\t\tuni.getUserInfo({//获取用户信息\r\n\t\t\t\t\t\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\t\t\t\t\t\tsuccess(infoRes) {\r\n\t\t\t\t\t\t\t\t\t\t\t_self.Decode(loginRes.code,infoRes.encryptedData,infoRes.iv);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail(infoRes) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({url:\"/pages/login/login\"});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{//未授权等待用户主动授权\r\n\t\t\t\t\t\t\t\t\tlet openId = uni.getStorageSync('openId');\r\n\t\t\t\t\t\t\t\t\tlet unionId = uni.getStorageSync('unionId');\r\n\t\t\t\t\t\t\t\t\tif(!VerifyHelper.IsNull(openId)){\r\n\t\t\t\t\t\t\t\t\t\t_self.LoginByUnionID(unionId,openId);\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({url:\"/pages/login/login\"});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tDecode(code,encryptedData,iv){\r\n\t\t\t\tlet _self=this;\r\n\t\t\t\tlet postData={\r\n\t\t\t\t\tcode:code,\r\n\t\t\t\t}\r\n\t\t\t\t_self.POST('/api/Pay/GetAppletsOpenidUnionid',postData,'',function(res){\r\n\t\t\t\t\tuni.setStorageSync('unionId',res.Data.unionid);\r\n\t\t\t\t\tuni.setStorageSync('openId',res.Data.openid);\r\n\t\t\t\t\t_self.LoginByUnionID(res.Data.unionid,res.Data.openid);\r\n\t\t\t\t},'applets','application/x-www-form-urlencoded')\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tLoginByUnionID(unionId,openId){\r\n\t\t\t\tlet _self=this;\r\n\t\t\t\tlet mobile = uni.getStorageSync('mobile');\r\n\t\t\t\t_self.POST('/api/Auth/LoginByUnionID',{unionId:unionId,openIdApplets:openId,mobile:mobile},'',function(result){\r\n\t\t\t\t\tif(result.Status){\r\n\t\t\t\t\t\t//console.log('result1',result)\r\n\t\t\t\t\t\t_self.Get('/api/User/GetUserByUnionID',{},result.Data.accessToken,function(result2){\r\n\t\t\t\t\t\t\tif(result2.Status){\r\n\t\t\t\t\t\t\t\tresult2.Data.accessToken=result.Data.accessToken;\r\n\t\t\t\t\t\t\t\tresult2.Data.refreshToken=result.Data.refreshToken;\r\n\t\t\t\t\t\t\t\tresult2.Data.OpenID=openId;\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('accessToken',result.Data.accessToken);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('refreshToken',result.Data.refreshToken);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('login',result2.Data);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('fullname',result2.Data.FullName);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('mobile',result2.Data.Mobile);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('headurl',result2.Data.HeadUrl);\r\n\t\t\t\t\t\t\t\t_self.login(result2.Data);\r\n\t\t\t\t\t\t\t\t//uni.reLaunch({url:'/pages/index/index'});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//else uni.reLaunch({url:\"/pages/login/login\"});\r\n\t\t\t\t\t\t},'biz');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//else uni.reLaunch({url:\"/pages/login/login\"});\r\n\t\t\t\t},'auth','application/x-www-form-urlencoded');\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"/common/uni.css\");\r\n\t/*每个页面公共css */\r\n\t*{margin: 0;padding: 0;}\r\n\t.container-warp{min-height: 100vh;height:auto;}\r\n\t.fl{float: left;}\r\n\t.fr{float: right;}\r\n\t.clr{clear: both;}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1621406726161\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}